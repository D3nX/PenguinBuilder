#include <stdio.h>
#include <Windows.h>

// #define CODE "require 'base64'; require Dir.pwd + '/lib/omega'; file = File.read('./lchr').reverse; eval(Base64.decode64(file))"

static const int code[] = {
    16114,
    16101,
    16113,
    16117,
    16105,
    16114,
    16101,
    16032,
    16039,
    16098,
    16097,
    16115,
    16101,
    16054,
    16052,
    16039,
    16059,
    16032,
    16114,
    16101,
    16113,
    16117,
    16105,
    16114,
    16101,
    16032,
    16068,
    16105,
    16114,
    16046,
    16112,
    16119,
    16100,
    16032,
    16043,
    16032,
    16039,
    16047,
    16108,
    16105,
    16098,
    16047,
    16111,
    16109,
    16101,
    16103,
    16097,
    16039,
    16059,
    16032,
    16102,
    16105,
    16108,
    16101,
    16032,
    16061,
    16032,
    16070,
    16105,
    16108,
    16101,
    16046,
    16114,
    16101,
    16097,
    16100,
    16040,
    16039,
    16046,
    16047,
    16108,
    16099,
    16104,
    16114,
    16039,
    16041,
    16046,
    16114,
    16101,
    16118,
    16101,
    16114,
    16115,
    16101,
    16059,
    16032,
    16101,
    16118,
    16097,
    16108,
    16040,
    16066,
    16097,
    16115,
    16101,
    16054,
    16052,
    16046,
    16100,
    16101,
    16099,
    16111,
    16100,
    16101,
    16054,
    16052,
    16040,
    16102,
    16105,
    16108,
    16101,
    16041,
    16041,
    -1
};

char *ctostr(char c) {
    char *str = malloc(sizeof(char) * 2);

    str[0] = c;
    str[1] = '\0';
    return str;
}

int main(void) {
    char *str = strdup(".\\bin\\ruby.exe -e \"");
    for (int i = 0; code[i] != -1; i++)
        str = strcat(str, ctostr(code[i] - 16000));
    str = strcat(str, "\"");
    system(str);
    return 0;
}
